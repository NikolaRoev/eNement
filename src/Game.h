#pragma once
#include "eNgine\\eNgine.h"
#include "GameStructures.h"


#include <array>


#include <SFML/Audio.hpp>
#include <SFML/Graphics.hpp>
#include <SFML/System.hpp>
#include <SFML/Window.hpp>



//====================================================================================================================================
//====================================================================================================================================
//====================================================================================================================================
//====================================================================================================================================
//====================================================================================================================================
//====================================================================================================================================

namespace en {

	//====================================================================================================================================
	//====================================================================================================================================
	//====================================================================================================================================
	//====================================================================================================================================
	//====================================================================================================================================

	constexpr int EXIT = 0;
	constexpr int MAIN_MENU = 1;
	constexpr int START_MENU = 2;
	constexpr int OPTIONS_MENU = 3;
	constexpr int GAME = 4;

	constexpr int CHAPTER = 0;
	constexpr int SPELLS = 1;
	constexpr int STATS = 2;
	constexpr int FIGHT = 3;
	constexpr int WIN = 4;
	constexpr int LOSS = 5;
	constexpr int END = 6;

	//====================================================================================================================================
	//====================================================================================================================================
	//====================================================================================================================================
	//====================================================================================================================================
	//====================================================================================================================================

	class Game {
	private:

		//====================================================================================================================================

		Core* core{ nullptr };

		//====================================================================================================================================
	
		int application_state{ MAIN_MENU };

		int game_state{ CHAPTER };

		//====================================================================================================================================

		std::array<SaveFile, 6> saves{};

		SaveFile* current_save{ nullptr };

		//====================================================================================================================================

		void set_resources();

		void set_drawables();

		//====================================================================================================================================

		void load_save_files();

		void save_save_files();

		//====================================================================================================================================

		void main_menu_loop();

		void start_menu_loop();

		void options_menu_loop();

		//====================================================================================================================================

		void game_loop();

		void chapter_loop();

		void spells_loop();

		void stats_loop();

		void fight_loop();

		void pause_loop();

		void win_loop();

		void loss_loop();

		void end_loop();

		//====================================================================================================================================

	public:

		//====================================================================================================================================

		void main_loop();

		//====================================================================================================================================
	};

	//====================================================================================================================================
	//====================================================================================================================================
	//====================================================================================================================================
	//====================================================================================================================================
	//====================================================================================================================================

} //"en" namespace END.

//====================================================================================================================================
//====================================================================================================================================
//====================================================================================================================================
//====================================================================================================================================
//====================================================================================================================================