#pragma once
#include "Core/Core.h"
#include "Drawable/Drawable.h"
#include "ResourceManager/ResourceManager.h"

#include <vector>
#include <memory>

#include <SFML/Audio.hpp>
#include <SFML/Graphics.hpp>
#include <SFML/System.hpp>
#include <SFML/Window.hpp>



//====================================================================================================================================
//====================================================================================================================================
//====================================================================================================================================

namespace en {

	//====================================================================================================================================

	constexpr int EXIT = 0;
	constexpr int MAIN_MENU = 1;
	constexpr int NEW_GAME = 2;
	constexpr int LOAD_GAME = 3;
	constexpr int OPTIONS_MENU = 4;
	constexpr int GAME = 5;

	//====================================================================================================================================

	class Game {
	private:
		

		int application_state{ MAIN_MENU };

		Core* core{ nullptr };

		//====================================================================================================================================

		std::vector<sf::VideoMode> get_fullscreen_modes();

		//====================================================================================================================================

		std::vector<std::shared_ptr<en::Drawable>> main_menu_set_drawables(const std::unique_ptr<ResourceManager>& manager);

		std::vector<std::shared_ptr<en::Drawable>> options_menu_set_drawables(const std::unique_ptr<ResourceManager>& manager);

		//====================================================================================================================================

		void main_menu_loop();

		void new_game_loop();

		void load_game_loop();

		void options_menu_loop();

		void game_loop();

		//====================================================================================================================================

	public:
		void main_loop();
	};

}

//====================================================================================================================================
//====================================================================================================================================
//====================================================================================================================================
